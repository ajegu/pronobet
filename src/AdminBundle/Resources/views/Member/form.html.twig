<div class="ui segment">
    <form class="ui form" action="{% if user is defined %}{{ path('admin_member_edit', {id: user.id}) }}{% else %}{{ path('admin_member_add') }}{% endif %}" method="post" novalidate>
        {{ form_widget(form._token) }}

        <div class="field required {{ form_errors(form.email) ? 'error' : '' }}">
            {{ form_label(form.email) }}
            <div class="ui left icon input">
                <i class="at icon"></i>
                {{ form_widget(form.email) }}
            </div>
        </div>
        {% if form_errors(form.email) %}
            <div class="ui negative message">
                {{ form_errors(form.email) }}
            </div>
        {% endif %}
        <div class="field {{ form_errors(form.nickname) ? 'error' : '' }}">
            {{ form_label(form.nickname) }}
            <div class="ui left icon input">
                <i class="user icon"></i>
                {{ form_widget(form.nickname) }}
            </div>
        </div>
        {% if form_errors(form.nickname) %}
            <div class="ui negative message">
                {{ form_errors(form.nickname) }}
            </div>
        {% endif %}

        <div class="field required {{ form_errors(form.plainPassword) ? 'error' : '' }}">
            {{ form_label(form.plainPassword) }}
            <div class="ui left icon input">
                <i class="lock icon"></i>
                {{ form_widget(form.plainPassword) }}
            </div>
        </div>
        {% if form_errors(form.plainPassword) %}
            <div class="ui negative message">
                {{ form_errors(form.plainPassword) }}
            </div>
        {% endif %}

        <div class="field {{ form_errors(form.phoneNumber) ? 'error' : '' }}">
            {{ form_label(form.phoneNumber) }}
            <div class="ui left icon input">
                <i class="mobile icon"></i>
                {{ form_widget(form.phoneNumber) }}
            </div>
        </div>
        {% if form_errors(form.phoneNumber) %}
            <div class="ui negative message">
                {{ form_errors(form.phoneNumber) }}
            </div>
        {% endif %}

        <div class="ui center aligned container">
            <a class="ui button" href="{{ app.request.headers.get('referer') }}">
                {{ 'label.cancel'|trans }}
            </a>
            {% if user is defined %}
                <button class="ui primary labeled icon button" type="submit">
                    <i class="edit icon"></i>
                    {{ 'button.edit'|trans }}
                </button>
            {% else %}
                <button class="ui primary labeled icon button" type="submit">
                    <i class="add icon"></i>
                    {{ 'button.add'|trans }}
                </button>
            {% endif %}
        </div>

    </form>
</div>